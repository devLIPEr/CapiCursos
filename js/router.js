var cursos = {
    "CursoMatematica": {
        "name": "Curso de Matemática",
        "img": "https://i.imgur.com/j6FyYZh.png",
        "price": "90,99",
        "desc": ['Está com problemas com os números? Nosso CapiCurso™ Matemática irá ajudar você a entender toda essa importante área, desde os Conjuntos Numéricos até as expressões Polinomiais. Contando com didáticas eficazes, incluindo macetes para memorizar fórmulas e explicações intuitivas para mostrar como as coisas funcionam nesta disciplina, você terminará o curso entendendo a matemática com maestria!'],
        "video": "https://www.youtube.com/embed/9ppf8ajVz7Q",
        "showInCatalogo": 1
    },
    "CursoRedacao": {
        "name": "Curso de Redação",
        "img": "https://i.imgur.com/qtbiZoz.png",
        "price": "109,99",
        "desc": ['Precisa de ajuda para escrever melhor? O CapiCurso™ Redação ensina a escrever qualquer tipo de texto cobrado nos principais vestibulares, incluindo cartas pessoais, relatos, narrações e, principalmente, dissertações argumentativas. Assim, você irá aprender toda a estrutura desses textos, além de técnicas que farão do seu texto um destaque positivo entre as redações dos concorrentes!'],
        "video": "https://www.youtube.com/embed/9ppf8ajVz7Q",
        "showInCatalogo": 1
    },
    "CursoFisica": {
        "name": "Curso de Física",
        "img": "https://i.imgur.com/Aq9ukuZ.png",
        "price": "90,99",
        "desc": ['O tempo pode ser relativo, mas certamente o tempo que você levará para compreender totalmente a física cobrada em vestibulares com a ajuda do CapiCurso™ Física será muito curto! Abrangendo todas as áreas da física, como óptica, termologia, mecânica e elétrica, você irá conseguir memorizar todas as fórmulas importantes, interpretar enunciados para saber o que os exercícios estão pedindo e, acima de tudo, conseguir fazer contas da melhor forma possível.'],
        "video": "https://www.youtube.com/embed/9ppf8ajVz7Q",
        "showInCatalogo": 1
    },
    "CursoBiologia": {
        "name": "Curso de Biologia",
        "img": "https://i.imgur.com/x8vJsun.png",
        "price": "90,99",
        "desc": ['A vida é muito complexa, mas com o CapiCurso™ Biologia ela não será complicada. Afinal, iremos te ensinar com didáticas intuitivas, fazendo você compreender de forma eficaz como cada organismo funciona, tanto internamente, em relação às suas células e sistemas, como também externamente, vendo como os seres vivos interagem entre si. Além disso, ensinaremos como a biologia pode se relacionar a outras áreas, como a física e a química.'],
        "video": "https://www.youtube.com/embed/9ppf8ajVz7Q",
        "showInCatalogo": 1
    },
    "CursoGeografia": {
        "name": "Curso de Geografia",
        "img": "https://i.imgur.com/bL45rR1.png",
        "price": "90,99",
        "desc": ['Se você não está conseguindo aprender geografia mas precisa fazer isso rápido, o CapiCurso™ Geografia pode te ajudar! Cobrindo todas as diversas áreas da geografia, entre elas relevo, bacias hidrográficas, biomas, zonas climáticas, rochas e solo, relações entre países, economia, demografia, além de muitos outros, este curso irá fazer você dominar a geografia como nenhum outro concorrente.'],
        "video": "https://www.youtube.com/embed/9ppf8ajVz7Q",
        "showInCatalogo": 1
    },
    "CursoQuimica": {
        "name": "Curso de Química",
        "img": "https://i.imgur.com/qhEky57.png",
        "price": "90,99",
        "desc": [' Se as reações químicas te assustam, você não precisa se preocupar! O CapiCurso™ Química vai te ajudar a entender toda a química cobrada nos vestibulares! Aprenda como balancear equações, quais reações formam qual tipo de produtos, como calcular equilíbrios químicos, tipos de ligações, estrutura dos átomos, entalpia, entre diversos outros assuntos, para você passar sem problemas nas provas de química!'],
        "video": "https://www.youtube.com/embed/9ppf8ajVz7Q",
        "showInCatalogo": 1
    },
    "CursoUNICENTRO": {
        "name": "Curso UNICENTRO",
        "img": "https://i.imgur.com/TYz01EO.png",
        "price": "149,99",
        "desc": ['Um CapiCurso™ focado especialmente para aqueles que querem passar na UNICENTRO sem problemas!'],
        "video": "https://www.youtube.com/embed/9ppf8ajVz7Q",
        "showInCatalogo": 1
    },
    "CursoUEL": {
        "name": "Curso UEL",
        "img": "https://i.imgur.com/ENF7jYg.png",
        "price": "169,99",
        "desc": ['Um CapiCurso™ focado especialmente para aqueles que querem passar na UEL sem problemas!'],
        "video": "https://www.youtube.com/embed/9ppf8ajVz7Q",
        "showInCatalogo": 1
    },
    "CursoUFPR": {
        "name": "Curso UFPR",
        "img": "https://i.imgur.com/yQoWVOr.png",
        "price": "199,99",
        "desc": ['Um CapiCurso™ focado especialmente para aqueles que querem passar na UFPR sem problemas!'],
        "video": "https://www.youtube.com/embed/9ppf8ajVz7Q",
        "showInCatalogo": 1
    },
    "CursoUTFPR": {
        "name": "Curso UTFPR",
        "img": "https://i.imgur.com/U4YHugX.png",
        "price": "199,99",
        "desc": ['Um CapiCurso™ focado especialmente para aqueles que querem passar na UTFPR sem problemas!'],
        "video": "https://www.youtube.com/embed/9ppf8ajVz7Q",
        "showInCatalogo": 1
    },
    "CursoUEM": {
        "name": "Curso UEM",
        "img": "https://i.imgur.com/oC4dVRC.png",
        "price": "169,99",
        "desc": ['Um CapiCurso™ focado especialmente para aqueles que querem passar na UEM sem problemas!'],
        "video": "https://www.youtube.com/embed/9ppf8ajVz7Q",
        "showInCatalogo": 1
    },
    "CursoUEPG": {
        "name": "Curso UEPG",
        "img": "https://i.imgur.com/lcjW27p.png",
        "price": "149,99",
        "desc": ['Um CapiCurso™ focado especialmente para aqueles que querem passar na UEPG sem problemas!'],
        "video": "https://www.youtube.com/embed/9ppf8ajVz7Q",
        "showInCatalogo": 1
    },
    "Choose": {
        "name": "Curso a escolha (Contate o Suporte)",
        "img": "https://i.imgur.com/PC77Zch.png",
        "price": "90,99",
        "desc": ['Contate o suporte para resgatar seu curso'],
        "video": "https://www.youtube.com/embed/9ppf8ajVz7Q",
        "showInCatalogo": 0
    }
}

var url = "https://devliper.github.io/CapiCursos/";

function printCursos(){
    for(const [key, value] of Object.entries(cursos)){
        if(value['showInCatalogo'] == 1){
            var curso = document.createElement('div');
            curso.setAttribute('class', 'curso');

            var cursoInfo = document.createElement('div');
            cursoInfo.setAttribute('class', 'cursoInfo');
            cursoInfo.setAttribute('onclick', 'goToCurso("'+key+'")');
            
            var poster = document.createElement("img");
            poster.setAttribute('src', value['img']);
            poster.setAttribute('alt', 'Capa do '+value['name']);

            var div = document.createElement("div");
            var h2 = document.createElement("h2")
            h2.innerHTML = value['name'];
            var p = document.createElement("p")
            p.innerHTML = value['desc'][0];

            var cursoPrice = document.createElement("div");
            cursoPrice.setAttribute('class', 'cursoPrice');
            var but = document.createElement("button");
            but.innerHTML = 'R$ ' + value['price'];

            cursoPrice.append(but);
            cursoPrice.innerHTML += '<button onclick="addToCart('+"'"+key+"'"+')"><img src="https://cdn-icons-png.flaticon.com/512/4175/4175270.png" alt="Cart icon"></button>';

            div.append(h2);
            div.append(p);

            cursoInfo.append(poster);
            cursoInfo.append(div);

            curso.appendChild(cursoInfo);
            curso.appendChild(cursoPrice);

            document.querySelector("#cursos").append(curso);
        }
    }
}

function goToCurso(curso){
    var link = url+'cursoInfo.html?c='+curso;
    var redirector = document.createElement("a");
    redirector.setAttribute("href", link);
    redirector.setAttribute("id", "redirector");
    redirector.style.display = "none";
    document.innerHTML += redirector;
    redirector.click();
    document.getElementById("redirector").remove();
}

function getInfo(){
    var curso = window.location.href.split("?c=")[1];
    if(cursos[curso]['showInCatalogo'] == 1){
        var name = "Placeholder", img = "Placeholder", price = "0,00", desc = ["Placeholder"], video = "Placeholder";
        if(cursos[curso]){
            name = cursos[curso]["name"];
            img = cursos[curso]["img"];
            price = cursos[curso]["price"];
            desc = cursos[curso]["desc"];
            video = cursos[curso]["video"];
        }
        document.querySelector("#link").setAttribute("src", video);
        document.querySelector("#poster").setAttribute("src", img);
        document.querySelector("#poster").setAttribute("alt", "Capa do "+name);
        document.querySelector("#name").innerHTML = name;
        document.querySelector("#price").innerHTML = "R$ "+price+'<img src="https://cdn-icons-png.flaticon.com/512/4175/4175270.png" alt="Cart icon">';
        document.querySelector("#price").setAttribute('onclick', 'addToCart("'+curso+'")')
        desc.forEach(element => {
            document.querySelector("#desc").innerHTML += '<p>'+element+'</p>';
        });
    }
}